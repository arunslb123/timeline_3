<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Whitney Houston, 1963-2012</title>
    <meta name="description" content="Houston&amp;#x27;s voice caught the imagination of the world propelling her to superstardom at an early age becoming one of the most awarded performers of our time.">
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <!-- Style-->

    <!-- HTML5 shim, for IE6-8 support of HTML elements--><!--[if lt IE 9]>
    <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script type="text/javascript" src="timeline_3/js/custom.js"></script>
          <link title="timeline-styles" rel="stylesheet" href="http://cdn.knightlab.com/libs/timeline3/latest/css/timeline.css">
         <script src="http://cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"></script>
                 <link title="timeline-styles" rel="stylesheet" href="http://cdn.knightlab.com/libs/timeline3/latest/css/timeline.css">
         <script src="http://cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"></script>
  </head>
  <body>

   <!-- Demo -->
  <section id="demo">
    <div id="timeline-embed" style="height: 100%;">
      <div id="timeline"></div>
    </div>
  </section>

  <!-- build:css //cdn.knightlab.com/libs/timeline3/%(cdn)s/css/timeline.css -->

  <!-- endbuild -->
  <!-- build:js //cdn.knightlab.com/libs/timeline3/%(cdn)s/js/timeline-min.js -->
  <script src="/build/js/timeline.js"></script>
  <!-- endbuild -->
  <script type="text/javascript" src="http://cdn.knightlab.com/libs/timeline/latest/js/storyjs-embed.js"></script>

  <script>
    $(document).ready(function(){
      function createNewTimeline(){
        $("#timeline-embed").empty();
        $("link[title=timeline-styles]").attr({href: "http://cdn.knightlab.com/libs/timeline3/latest/css/timeline.css"});

function get_json() {
    return $.getJSON("https://script.google.com/macros/s/AKfycbxcWVRyPbK0k78N8OXv42ItbdRANQqUHTanIyg4_WlRGwQxioYM/exec");
}

get_json().done(function (data) {
    window.timeline = new VCO.Timeline('timeline-embed', new VCO.TimelineConfig(data));
});

          if ($("#timeline-embed").height() == 0) {
            setTimeout(function(){
                console.log("trying again. height: " + $(document).height())
                $("#timeline-embed").height($(document).height() - $(".nav-tabs").height()- 100);
                window.timeline.updateDisplay();
            },500);
          }
      }
      $("#timeline-embed").height($(document).height() - $(".nav-tabs").height() - 100);
      /* New timeline styles used when page loads */
      createNewTimeline();
      $("#new").click(function(){
        createNewTimeline();
        $(this).addClass("active");
        $(this).siblings().removeClass("active");
      });
      $("#old").click(function(){
        $("#timeline-embed").empty();
        if (!timeline_config) {
            var timeline_config = {
                type:   'timeline',
                width:    '100%',
                height:   '100%',
                source:   'timeline2.json',
                embed_id: 'timeline-embed'
            }
        }
        createStoryJS(timeline_config);
        $(this).addClass("active");
        $(this).siblings().removeClass("active");
        $("link[title=timeline-styles]").attr({href: "//cdn.knightlab.com/libs/timeline/latest/css/timeline.css?2.24"});
      });
      window.onresize = function(event) {
        timeline.updateDisplay();
      }
    });
  </script>

    </script>



  </body>
</html>
